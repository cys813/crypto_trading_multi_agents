---
name: 做多分析师代理
description: 基于技术指标、基本面、市场情绪等因素生成做多信号和策略，通过LLM服务模块进行深度分析和推理
status: draft
created: 2025-09-24T19:05:00Z
updated: 2025-09-25T01:57:08Z
---

# PRD: 做多分析师代理

## 执行摘要

做多代理是系统中专门化的做多分析师代理，负责接收所有交易相关数据，通过技术指标分析专门捕捉做多信号，将技术分析结果与新闻信息、社交媒体数据和原始交易数据相结合，利用大语言模型(LLM)生成高质量的做多分析报告和胜率评估。该代理作为多代理加密货币交易系统中的分析组件，专注于做多机会的识别和分析，最终交易策略由最终策略决策代理负责。

## 问题陈述

在加密货币交易中，做多策略是最基础和重要的交易方式之一。然而，现有的交易系统往往存在以下问题：

- 技术指标分析缺乏针对性，无法有效识别做多信号
- 数据来源单一，缺乏多维度信息的综合分析
- 缺乏智能化的策略生成和胜率评估
- 无法适应快速变化的市场环境
- 做多信号的准确性和时效性不足

需要一个专门化的做多代理来解决这些问题，提高做多交易的成功率和盈利能力。

## 用户故事

### 主要用户角色

**1. 系统架构师**
- 作为系统架构师，我希望有一个独立的做多代理，以便构建完整的多代理交易系统架构。

**2. 量化分析师**
- 作为量化分析师，我希望做多代理能够提供详细的技术分析和胜率评估，以便验证和优化交易策略。

**3. 交易系统用户**
- 作为交易系统用户，我希望做多代理能够准确识别做多机会并提供可靠的策略，以便获得稳定的交易收益。

**4. 风险管理员**
- 作为风险管理员，我希望做多代理能够提供准确的胜率分析，以便更好地控制交易风险。

### 详细用户旅程

**旅程1：数据接收与分析**
1. 代理接收来自交易数据获取代理的实时交易数据
2. 代理接收来自新闻收集代理的最新新闻信息
3. 代理接收来自社交媒体分析代理的市场情绪数据
4. 代理对接收的数据进行预处理和格式化

**旅程2：技术指标分析**
1. 代理对价格数据进行技术指标计算
2. 专门针对做多信号进行指标分析
3. 识别潜在的多多信号和入场点
4. 生成技术分析报告

**旅程3：LLM分析报告生成**
1. 代理将技术分析结果、新闻信息、社交媒体数据和原始交易数据输入LLM
2. LLM进行综合分析和做多机会推理
3. 生成详细的做多分析报告
4. 计算做多机会的预期胜率

**旅程4：分析报告输出**
1. 代理输出做多分析报告
2. 提供详细的分析建议
3. 给出胜率分析报告
4. 将分析结果传递给最终策略决策代理

## 需求

### 功能需求

**数据接收模块**
- 接收交易数据获取代理的实时K线数据
- 接收新闻收集代理的新闻摘要和分析
- 接收社交媒体分析代理的情绪数据
- 支持多种数据格式的解析和处理
- 数据质量验证和异常处理

**技术指标分析模块**
- **做多指标集**：专门针对做多信号的技术指标集合
  - 移动平均线（MA、EMA、SMA）
  - 相对强弱指数（RSI）
  - MACD指标
  - 布林带
  - KDJ指标
  - 成交量指标
  - 支撑阻力位分析
- **信号识别算法**：专门识别做多信号的算法
  - 趋势识别
  - 突破检测
  - 回调买入信号
  - 底部形态识别
- **信号强度评估**：对做多信号进行强度评分
  - 信号强度等级（1-10分）
  - 信号可靠性评估
  - 时间周期适配性分析

**LLM分析报告生成模块**
- **数据整合**：将技术分析、新闻、社交数据整合为LLM输入
- **分析推理**：利用LLM进行做多机会的深度分析和推理
- **胜率计算**：基于历史数据和当前市场条件计算做多胜率
- **风险评估**：对做多机会进行风险评估
- **多维度分析**：从技术面、基本面、情绪面进行综合分析

**分析报告输出模块**
- **做多信号**：清晰的做多信号分析（买入机会、持有建议、观望信号）
- **分析建议**：具体的分析建议
  - 潜在入场价格区间
  - 建议止损参考位
  - 建议止盈参考位
  - 仓位大小建议（仅供参考）
- **胜率报告**：详细的做多胜率分析报告
  - 预期胜率
  - 风险收益比
  - 最大回撤预估
  - 历史相似情况分析
- **置信度评分**：做多分析的置信度评分（1-10分）

**配置管理模块**
- 技术指标参数配置
- LLM模型选择和参数配置
- 信号阈值配置
- 风险参数配置
- 输出格式配置

### 非功能需求

**性能**
- 信号生成延迟 < 1秒
- 支持实时数据处理
- 99.5%的信号准确率
- 高并发处理能力

**可靠性**
- 7x24小时稳定运行
- 自动故障恢复机制
- 数据备份和恢复
- 系统健康监控

**可扩展性**
- 支持新增技术指标
- 支持多种LLM模型
- 支持多币种分析
- 支持多种时间框架

**可维护性**
- 模块化设计
- 清晰的代码结构
- 完善的日志记录
- 配置热重载支持

## 成功标准

### 关键指标
- **信号准确率**：做多信号的准确率 > 65%
- **胜率计算精度**：胜率预测误差 < 15%
- **响应时间**：策略生成时间 < 2秒
- **系统稳定性**：99.5%的正常运行时间
- **收益率**：基于策略的年化收益率 > 20%

### 业务成果
- 做多交易成功率提升30%
- 交易决策时间减少50%
- 风险控制能力提升40%
- 用户满意度 > 85%

## 约束和假设

### 技术约束
- 基于现有的多代理交易系统架构
- 使用LLM服务模块进行策略生成
- 遵循系统的配置管理规范
- 与其他代理的数据接口兼容

### 数据约束
- 依赖交易数据获取代理提供高质量数据
- 依赖新闻收集代理提供及时的新闻信息
- 依赖社交媒体分析代理提供准确的情绪数据
- 数据格式必须符合系统标准

### 性能约束
- 单次策略生成时间不超过2秒
- 内存使用量控制在合理范围内
- 网络带宽使用优化
- LLM API调用频率控制

### 假设
- LLM模型能够提供准确的交易策略分析
- 技术指标能够有效识别做多信号
- 市场数据质量和时效性有保障
- 其他代理能够稳定提供所需数据

## 范围之外

### 初始版本排除项
- 做空策略分析
- 高频交易策略
- 复杂的衍生品交易
- 自定义指标开发
- 实盘交易执行

### 未来考虑
- 机器学习模型集成
- 更多的技术指标
- 高级风险管理功能
- 多市场支持
- 策略回测和优化

## 依赖关系

### 外部依赖
- LLM服务提供商（OpenAI、Azure OpenAI、Anthropic等）
- 技术指标计算库
- 数据处理和存储系统
- 监控和日志系统

### 内部依赖
- 交易数据获取代理
- 新闻收集代理
- 社交媒体分析代理
- LLM服务模块
- 配置管理系统
- 最终策略决策代理（重要：本代理输出为其提供做多分析输入）

## 风险评估

### 技术风险
- LLM模型性能不稳定
- 技术指标计算错误
- 数据质量问题
- 系统集成复杂性

### 市场风险
- 市场异常波动
- 交易流动性不足
- 监管政策变化
- 黑天鹅事件

### 业务风险
- 策略表现不及预期
- 用户采用率低
- 竞争对手技术优势
- 成本控制挑战

## 实施路线图

### 第1阶段：基础架构（2周）
- 代理框架搭建
- 数据接收模块开发
- 基础技术指标实现
- 配置管理系统集成

### 第2阶段：技术指标分析（3周）
- 做多专用指标开发
- 信号识别算法实现
- 信号强度评估系统
- 测试和优化

### 第3阶段：LLM集成（2周）
- LLM服务模块集成
- 策略生成逻辑实现
- 胜率计算算法开发
- 提示词优化

### 第4阶段：系统测试（2周）
- 单元测试
- 集成测试
- 性能测试
- 用户验收测试

### 第5阶段：部署上线（1周）
- 生产环境部署
- 监控系统配置
- 文档完善
- 培训和交付